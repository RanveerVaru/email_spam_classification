/* Global resets & variables */
:root{
  --bg1: linear-gradient(120deg,#eef2ff 0%, #ffffff 60%);
  --card: #ffffff;
  --muted: #6b7280;
  --accent: #6366f1;
  --danger: #ef4444;
  --ok: #10b981;
  --glass: rgba(255,255,255,0.65);
  --max-panel-width: 350px;
}

*{box-sizing:border-box}
html,body,#root{height:100%;margin:0;background:var(--bg1);font-family:Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}

/* Shell */
.app-shell{min-height:100vh;display:flex;flex-direction:column;align-items:center;padding:28px;}
.brand{display:flex;align-items:center;gap:14px;margin-bottom:18px}
.brand .logo{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#a78bfa,#60a5fa);color:#fff;font-size:22px;box-shadow:0 8px 30px rgba(99,102,241,0.15);transform:translateZ(0)}
.brand h1{margin:0;font-size:20px}
.brand-sub{margin:2px 0 0;color:var(--muted);font-size:13px}

/* Layout */
.container{
  width:100%;
  max-width:1200px;
  display:grid;
  grid-template-columns:1fr var(--max-panel-width);
  gap:22px;
  align-items:start;
}

/* allow left column children to shrink inside the grid (important for scroll behaviour) */
.left {
  min-height: 0;          /* enables proper overflow of children inside grid cell */
  display: flex;
  flex-direction: column;
}

/* small screens: single column */
@media (max-width:980px){
  .container{grid-template-columns:1fr; padding: 0 6px}
}

/* Card */
.card{background:var(--card);border-radius:14px;padding:18px;box-shadow:0 12px 40px rgba(15,23,42,0.06);position:relative;overflow:hidden}
.animated-card::after{content:"";position:absolute;right:-120px;top:-80px;width:420px;height:420px;background:radial-gradient(circle at 20% 20%, rgba(99,102,241,0.06), transparent 20%), linear-gradient(120deg, rgba(99,102,241,0.06), transparent 40%);transform:rotate(14deg);pointer-events:none;filter:blur(12px)}

/* Inputs */
.card-title{margin:0 0 6px 0;font-size:18px}
.muted{color:var(--muted)}
.input{width:100%;padding:12px;border-radius:10px;border:1px solid #eef2f7;font-size:14px;resize:vertical;min-height:120px;outline:none}
.input:focus{box-shadow:0 6px 20px rgba(99,102,241,0.08);border-color:rgba(99,102,241,0.2)}

/* Controls */
.row{display:flex;align-items:center}
.space{justify-content:space-between}
.controls{display:flex;gap:8px;align-items:center}
.btn{padding:9px 12px;border-radius:10px;border:0;background:#f3f4f6;cursor:pointer}
.btn.primary{background:linear-gradient(90deg,var(--accent),#60a5fa);color:white;box-shadow:0 10px 30px rgba(99,102,241,0.12)}
.btn.ghost{background:transparent;border:1px solid #eef2f7}
.btn.link{background:transparent;color:var(--accent);text-decoration:underline}
.btn.small{padding:6px 8px;font-size:13px}
.btn.tiny{padding:6px 8px;font-size:12px}

/* Loader */
.loader{display:inline-block;width:18px;height:18px;border-radius:50%;position:relative}
.loader:before,.loader:after{content:"";position:absolute;inset:0;border-radius:50%;border:3px solid rgba(255,255,255,0.35)}
.loader:before{border-top-color:white;transform:rotate(0);animation:spin 0.9s linear infinite}
@keyframes spin{to{transform:rotate(1turn)}}

/* Result */
.result-block{margin-top:14px;display:flex;align-items:center;gap:12px}
.badge{padding:8px 12px;border-radius:999px;color:white;font-weight:700}
.badge.spam{background:var(--danger)}
.badge.ham{background:var(--ok)}
.result-info{display:flex;flex-direction:column;gap:6px}
.conf{font-weight:600}
.result-actions{display:flex;gap:8px}

/* Side panel */
.right{position:relative}
.panel{
  background:var(--card);
  padding:14px;
  border-radius:12px;
  box-shadow:0 10px 30px rgba(15,23,42,0.05);
  position: sticky;
  top: 28px;                         /* stays visible while user scrolls left content */
  max-height: calc(100vh - 80px);    /* allow some space for header/footer */
  display:flex;
  flex-direction:column;
  overflow: hidden;
}
.panel-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.panel h3{margin:0;font-size:16px}

/* make just the history list scrollable inside the panel */
.history-list{
  display:flex;
  flex-direction:column;
  gap:10px;
  margin-top:6px;
  max-height: calc(100vh - 220px);   /* room for panel head/foot and padding */
  overflow-y: auto;
  padding-right: 8px;                /* space for scrollbar */
  -webkit-overflow-scrolling: touch; /* smooth scrolling on mobile */
}

/* thin, neutral scrollbar for modern browsers */
.history-list::-webkit-scrollbar{ width:10px }
.history-list::-webkit-scrollbar-thumb{ background: rgba(99,102,241,0.12); border-radius:8px }
.history-list::-webkit-scrollbar-track{ background: transparent }

/* history item visuals */
.history-item{display:flex;gap:10px;align-items:flex-start;padding:10px;border-radius:10px;border:1px solid #f3f5fb;background:linear-gradient(180deg,rgba(255,255,255,0.6),transparent)}
.h-pill{min-width:56px;text-align:center;padding:6px 8px;border-radius:8px;font-weight:700;color:#111}
.hp-spam{background:linear-gradient(90deg,#fecaca,#ef4444);color:#3b021b}
.hp-ham{background:linear-gradient(90deg,#bbf7d0,#10b981);color:#02321b}
.h-body{flex:1}
.h-text{font-size:14px;color:#111}
.h-meta{display:flex;gap:8px;color:var(--muted);font-size:12px;margin-top:6px}
.h-actions{display:flex;align-items:center}

/* small footers */
.panel-foot{margin-top:12px;display:flex;justify-content:space-between;align-items:center;gap:8px}
.endpoint code{background:#f6f8fb;padding:6px;border-radius:6px;font-size:12px;color:#333}
.footer{margin-top:22px;color:var(--muted);font-size:13px}

/* helper */
.muted.small{font-size:13px;color:var(--muted)}
.h-time{font-size:12px}
.h-prob{font-weight:700;color:#111}

/* ensure main card flows naturally and is not fixed */
.card { position: relative; }

/* responsive tweaks */
@media (max-width: 980px) {
  .right .panel {
    position: relative;
    top: auto;
    max-height: none;
    overflow: visible;
  }
  .history-list {
    max-height: none;
    overflow: visible;
    padding-right: 0;
  }
  .left { min-height: auto; }
}

/* small visual spacing tweaks for very narrow screens */
@media (max-width: 480px) {
  .brand .logo { width:48px;height:48px }
  .container { gap:12px }
  .panel { padding:12px }
  .card { padding:14px }
  .btn { padding:8px 10px }
}
